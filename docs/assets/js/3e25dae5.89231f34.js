"use strict";(self.webpackChunksync_powershell=self.webpackChunksync_powershell||[]).push([[9382],{3905:(e,n,r)=>{r.d(n,{Zo:()=>p,kt:()=>m});var t=r(7294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function i(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=t.createContext({}),c=function(e){var n=t.useContext(l),r=n;return e&&(r="function"==typeof e?e(n):s(s({},n),e)),r},p=function(e){var n=c(e.components);return t.createElement(l.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},g=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=c(r),g=o,m=u["".concat(l,".").concat(g)]||u[g]||d[g]||a;return r?t.createElement(m,s(s({ref:n},p),{},{components:r})):t.createElement(m,s({ref:n},p))}));function m(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=g;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i[u]="string"==typeof e?e:o,s[1]=i;for(var c=2;c<a;c++)s[c]=r[c];return t.createElement.apply(null,s)}return t.createElement.apply(null,r)}g.displayName="MDXCreateElement"},2392:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var t=r(7462),o=(r(7294),r(3905));const a={},s="Added CPM and ProjProperties",i={permalink:"/help/blog/2023/11/01/index",source:"@site/blog/2023-11-01/index.md",title:"Added CPM and ProjProperties",description:"One of the problem with NuGet are version .One of the problems with version is that ,in the same sln, inadvertently add 2 NuGets with different versions.",date:"2023-11-01T00:00:00.000Z",formattedDate:"November 1, 2023",tags:[],readingTime:1.185,hasTruncateMarker:!0,authors:[],frontMatter:{},nextItem:{title:"Added deployment",permalink:"/help/blog/2023/10/31/index"}},l={authorsImageUrls:[]},c=[],p={toc:c},u="wrapper";function d(e){let{components:n,...a}=e;return(0,o.kt)(u,(0,t.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"One of the problem with NuGet are version .One of the problems with version is that ,in the same sln, inadvertently add 2 NuGets with different versions."),(0,o.kt)("p",null,"The solution is CPM and ProjProperties. "),(0,o.kt)("p",null,"For CPM please read ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/nuget/consume-packages/Central-Package-Management"},"https://learn.microsoft.com/en-us/nuget/consume-packages/Central-Package-Management")," "),(0,o.kt)("p",null,"For ProjProperties please read ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/visualstudio/msbuild/customize-by-directory?view=vs-2022"},"https://learn.microsoft.com/en-us/visualstudio/msbuild/customize-by-directory?view=vs-2022")),(0,o.kt)("p",null,"In practice I have added near the sln a file named Directory.Packages.props with the following content"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<Project>\n  <PropertyGroup>\n    <ManagePackageVersionsCentrally>true</ManagePackageVersionsCentrally>\n  </PropertyGroup>\n  <ItemGroup>\n    <PackageVersion Include="Microsoft.Extensions.Logging.Abstractions" Version="7.0.1" />\n    <PackageVersion Include="RSCG_Static" Version="2023.8.23.2100" />\n    <PackageVersion Include="Refit" Version="7.0.0" />\n    <PackageVersion Include="RSCG_Decorator" Version="7.2023.930.2116" />\n    <PackageVersion Include="RSCG_DecoratorCommon" Version="7.2023.930.2116" />\n    <PackageVersion Include="Divergic.Logging.Xunit" Version="4.2.0" />\n    <PackageVersion Include="FluentAssertions" Version="6.12.0" />\n    <PackageVersion Include="LightBDD.XUnit2" Version="3.7.0" />\n    <PackageVersion Include="Microsoft.NET.Test.Sdk" Version="17.8.0" />\n    <PackageVersion Include="NLog.Extensions.Logging" Version="5.3.5" />\n    <PackageVersion Include="xunit" Version="2.6.1" />\n    <PackageVersion Include="Rocks" Version="7.2.0" />\n    <PackageVersion Include="xunit.runner.visualstudio" Version="2.5.3">\n    </PackageVersion>\n    <PackageVersion Include="coverlet.collector" Version="6.0.0">\n    </PackageVersion>\n    <PackageVersion Include="Asp.Versioning.Mvc.ApiExplorer" Version="7.1.0" />\n    <PackageVersion Include="Asp.Versioning.Mvc" Version="7.1.0" />\n    <PackageVersion Include="NLog" Version="5.2.5" />\n    <PackageVersion Include="NLog.Web.AspNetCore" Version="5.3.5" />\n    <PackageVersion Include="Swashbuckle.AspNetCore" Version="6.5.0" />\n    <PackageVersion Include="AMSWebAPI" Version="2023.5.21.1551" />\n    <PackageVersion Include="AMS_Base" Version="2023.5.21.1551" />\n    <PackageVersion Include="RSCG_AMS" Version="2023.5.21.1551" />\n    <PackageVersion Include="Microsoft.AspNetCore.OpenApi" Version="7.0.13" />\n    <PackageVersion Include="NetCore2Blockly" Version="7.2023.427.2025" />\n    <PackageVersion Include="NetCore7ShortLinks" Version="7.2023.506.10" />\n    <PackageVersion Include="NetCoreUsefullEndpoints" Version="7.2023.916.1715" />\n    <PackageVersion Include="RSCG_WebAPIExports" Version="2023.8.16.1958" OutputItemType="Analyzer" ReferenceOutputAssembly="true" />\n    <PackageVersion Include="RSCG_TimeBombComment" Version="2023.10.21.806" />\n  </ItemGroup>\n</Project>\n')),(0,o.kt)("p",null,"and remove all version references from packages in all projects"),(0,o.kt)("p",null,"See "),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Version differences",src:r(539).Z,width:"2478",height:"326"})),(0,o.kt)("p",null,"Also , for passing all projects from net7.0 to anything one can use Directory.Build.props"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<Project>\n    <PropertyGroup>\n        <TargetFramework>net7.0</TargetFramework>\n        <ImplicitUsings>enable</ImplicitUsings>\n        <Nullable>enable</Nullable>\n    </PropertyGroup>\n    <PropertyGroup>\n        <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n        <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GX</CompilerGeneratedFilesOutputPath>\n    </PropertyGroup>\n\n</Project>\n")),(0,o.kt)("p",null,"And now the projects can be like this"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Target differences",src:r(7413).Z,width:"2540",height:"506"})),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/dotnet/sdk/issues/11432"},"https://github.com/dotnet/sdk/issues/11432")),(0,o.kt)("p",null,"delete the %USERPROFILE%",".","dotnet\\toolResolverCache"))}d.isMDXComponent=!0},7413:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/diffTarget-b081a8bf841babd91c71c187f1cffd25.png"},539:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/diffVersion-5e36be90724291d4d9a7d09740bc862f.png"}}]);